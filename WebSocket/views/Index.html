<!DOCTYPE html>  
<html lang="en">  
<head>  
  <meta charset="UTF-8">
  <title>Domótica</title>
  <link href="/materialize/css/materialize.css" rel="stylesheet" media="screen" />
  <script src="/socket.io/socket.io.js"></script>
  <script src="/jquery-2.1.4.js"></script>
  <script type="text/javascript">
    var config = {relay:false,temperatura:null,humedad:null,flame:null};
  </script>
</head>  
<header>
    <nav style="margin-bottom: 1%;">
        <div class="nav-wrapper green darken-1">
            <a href="#" class="brand-logo"><img src="/images/INNOVAME_CORRIENTES/logo.png" alt="" width="53px" class="responsive-img" >
            <img src="/images/INNOVAME_CORRIENTES/logo_texto.png" alt="" width="90px" class="responsive-img" ></a>
            <ul id="nav-mobile" class="right hide-on-med-and-down"></ul>
        </div>
    </nav>
</header>
<main>
<body>
<div class="container">
      <div class="row">
        <div class="col s12 m12 l12 ">
          <div class="card">
            <div class="card-image">
              <img src="images/smartcity.png">
              <span class="card-title"></span>
            </div>
            <div class="card-content">
              <p align="justify">Se llama domótica a los sistemas capaces de automatizar una vivienda o edificación de cualquier tipo, aportando servicios de gestión energética, seguridad, bienestar y comunicación, y que pueden estar integrados por medio de redes interiores y exteriores de comunicación, cableadas o inalámbricas, y cuyo control goza de cierta ubicuidad, desde dentro y fuera del hogar. Se podría definir como la integración de la tecnología en el diseño inteligente de un recinto cerrado.</p>
            </div>
            
          </div>
        </div>
      </div>  
      <div class="row">
        <div class="col s6 m4 l3">
          <div class="card">
            <div class="card-image">
              <img src="/images/light-bulb-icon.png">
              <span class="card-title"></span>
            </div>
            <div class="card-content">
              <p>Encender Luz.</p>
            </div>
            <div class="card-action">
              <div class="switch">
                <label>
                  Off
                  <input id="checkbox" type="checkbox" onclick="checkSwitch()">
                  <span class="lever"></span>
                  On
                </label>
              </div>
            </div>
          </div>
        </div>
        <div class="col s6 m4 l3">
          <div class="card">
            <div class="card-image">
              <img src="/images/temp.png">
              <span class="card-title"></span>
            </div>
            <div class="card-content">
              <p>Temperatura.</p>
            </div>
            <div class="card-action">
              <label id="temperatura"></label>
            </div>
          </div>
        </div>
        <div class="col s6 m4 l3">
          <div class="card">
            <div class="card-image">
              <img src="/images/humedad.png">
              <span class="card-title"></span>
            </div>
            <div class="card-content">
              <p>Humedad.</p>
            </div>
            <div class="card-action">
              <label id="humedad"></label>
            </div>
          </div>
        </div>
                <div class="col s6 m4 l3">
          <div class="card">
            <div class="card-image">
              <img src="/images/flame.png">
              <span class="card-title"></span>
            </div>
            <div class="card-content">
              <p>Fuego.</p>
            </div>
            <div class="card-action">
              <label id="flame"></label>
            </div>
          </div>
        </div>
      </div><!-- row-->
</div>
 
</body>  
</main>
<script type="text/javascript">
    console.log('init socket');
    var socket = io.connect('http://raspberrypi:8080', { 'forceNew': true });
    socket.on('config', function(data) {  
      console.log(data);
      config = data;
      $("#checkbox").prop('checked', config.relay);
      $("#temperatura").text(config.temperatura+" °C");
      $("#humedad").text(config.humedad+" %");
      $("#flame").text((config.flame==1)?'Si':'No');
    });
  </script>
  <script type="text/javascript">
  function checkSwitch(){
    config.relay = $('#checkbox').is(':checked');
    socket.emit('new-message', config);
  }
  </script>
  <footer class="page-footer green darken-1 ">
    <style type="text/css">
        label{
          font-size: 150%; color:black;  
        }
        
        /*Footer Adhesivo*/
        body {
            display: flex;
            min-height: 100vh;
            flex-direction: column;
        }

        main {
            flex: 1 0 auto;
        }
        input:-webkit-autofill,
        input:-webkit-autofill:hover,
        input:-webkit-autofill:focus,
        input:-webkit-autofill:active {
            transition: background-color 5000s ease-in-out 0s;
        }
        .rigth-btn { text-align: right }
    </style>
  <div class="row">
    <div class="s3 l3 m3">
        <img class="logo" src="/images/logo_gob_prov.png" style="width: 30%;height: 40%;">
        <img class="logo" src="/images/INNOVAME_CORRIENTES/innovame.png" style="width: 10%;height: 10%;margin-left:30%">
    </div>
  </div>
  <div class="row">
    <div class="s6 l6 m6">
      <a href="http://www.mec.gob.ar/" target="_blank">
          <img class="logo" src="/images/logo_mec.png" style="width: 30%;height: 30%;margin-left: 2%"></a>
          <img class="logo" src="/images/INNOVAME_CORRIENTES/programacion.png" style="width: 10%;height: 10%;margin-left:15%">
          <img class="logo" src="/images/INNOVAME_CORRIENTES/robotica.png" style="width: 9.2%;height: 10%;margin-left:15%">
    </div>
  </div>
  <div class="footer-copyright">
    <div class="container">
    <p class="text-lighten-4 right" href="#!">© 2017 INNOVAME</p>
    </div>
  </div>
</footer>
</html> 
